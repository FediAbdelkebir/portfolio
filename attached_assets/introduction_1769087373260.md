# Introduction - KYC Controls Configuration Builder

## üìñ Description du Projet

Ce projet construit une application destin√©e √† assister dans l'√©criture de scripts de configuration bas√©s sur JSON. Les scripts de configuration sont analys√©s pour ex√©cuter s√©quentiellement des actions sur des donn√©es. Le moteur d'ex√©cution est aliment√© avec √† la fois un script de configuration et une repr√©sentation JSON des donn√©es. Les actions disponibles qui peuvent √™tre r√©f√©renc√©es dans le script de configuration sont enti√®rement document√©es.

Pour aider √† √©crire un script de configuration, cette application utilise:
- la documentation des actions,
- un mod√®le pour formaliser la grammaire √† utiliser dans le script,
- un ensemble d'outils de construction de configuration.

### Structure du Projet

Le projet est subdivis√© en trois parties:
- une partie g√®re la documentation des actions,
- une partie g√®re le mod√®le de grammaire du script de configuration,
- une partie fournit les outils pour construire et g√©rer les scripts de configuration avec l'aide des deux pr√©c√©dentes.

---

## üìä Mod√®le de Donn√©es

Le mod√®le de donn√©es est assez simple:
- le script de configuration liste une collection de documents,
- chaque document est une collection de champs,
- sous chaque champ, une s√©quence d'actions se d√©roule pour √™tre appliqu√©e √† la valeur du champ; les actions sont group√©es par type dans le script, et certains types sont r√©p√©tables dans le m√™me champ.

Certaines actions sont d√©di√©es √† la gestion de la valeur d'un seul champ; d'autres ont une port√©e mono-document; d'autres ont une port√©e multi-documents.

Certaines actions peuvent cr√©er de nouveaux champs pour √™tre utilis√©s par des actions ult√©rieures. Certaines actions peuvent modifier la valeur initiale d'un champ donn√© pour que d'autres actions s'ex√©cutent.

---

## üìù Mod√®le de Grammaire

Un mod√®le de grammaire exemple est inclus dans le projet √† `/backend/src/main/resources/sample-model.json`. Ce fichier d√©finit la structure et les r√®gles de validation pour les scripts de configuration.

Le mod√®le d√©finit:
- Les types de documents autoris√©s
- Les champs possibles pour chaque document
- Les types de validations (types, controls)
- Les producteurs de valeurs (producers)
- Les transformateurs de valeurs (transformers)
- Les contr√¥les intra-document et inter-documents

---

## üí° Exemple de Script de Configuration

Voici un exemple concret de script de configuration JSON:

```json
{
  "JDOM": {
    "fields": {
      "user_name": {
        "types": ["string"],
        "controls": ["isNotEmpty"]
      },
      "user_birth_date": {
        "types": ["date"],
        "controls": ["dateIsBefore:27/09/2001"]
      }
    }
  },
  "CNI": {
    "fields": {
      "holder_name": {
        "types": ["string"],
        "controls": ["isNotEmpty"]
      },
      "holder_birth_date": {
        "types": ["date"],
        "controls": ["dateIsBefore:27/09/2001"]
      }
    }
  },
  "controls_inter": [
    "stringsAreEqual:JDOM.user_name,CNI.holder_name",
    "datesAreEqual:JDOM.user_birth_date,CNI.holder_birth_date"
  ]
}
```

### Explication de l'Exemple

Cet exemple d√©finit une configuration pour valider deux documents:
- **JDOM**: Document avec deux champs (`user_name` et `user_birth_date`)
- **CNI**: Document avec deux champs (`holder_name` et `holder_birth_date`)

Pour chaque champ:
- `types`: D√©finit le type de donn√©es attendu (string, date, etc.)
- `controls`: Liste les contr√¥les de validation √† appliquer

Les `controls_inter` d√©finissent des validations entre documents:
- V√©rifier que les noms correspondent entre JDOM et CNI
- V√©rifier que les dates de naissance correspondent entre JDOM et CNI

---

## üß™ Exemple de Donn√©es de Test

Voici un exemple de donn√©es JSON qui peuvent √™tre test√©es avec le script de configuration ci-dessus:

```json
{
  "JDOM": {
    "user_name": "Athanase Percevalve",
    "user_birth_date": "22/05/1971"
  },
  "CNI": {
    "holder_name": "Athanase J. Percevalve",
    "holder_birth_date": "22/05/1971"
  }
}
```

### R√©sultat Attendu

Avec ces donn√©es et le script de configuration:
- ‚úÖ Les champs `user_name` et `holder_name` sont des strings non vides
- ‚úÖ Les dates de naissance sont avant le 27/09/2001
- ‚ö†Ô∏è Les noms ne correspondent pas exactement (`"Athanase Percevalve"` vs `"Athanase J. Percevalve"`)
- ‚úÖ Les dates de naissance correspondent

---

## üéØ Cas d'Usage

Cette application est utile pour:
- **Validation KYC**: V√©rifier la coh√©rence des documents d'identit√©
- **Validation de formulaires**: Contr√¥ler les donn√©es saisies
- **Validation inter-documents**: Comparer des informations entre plusieurs sources
- **Transformation de donn√©es**: Modifier et enrichir les donn√©es avant validation

---

## üìö Documentation Compl√©mentaire

- **D√©marrage rapide**: [Quickstart Autonome](quickstart-standalone.md)
- **Guide de d√©ploiement**: [Guide de D√©ploiement](deployment-guide.md)
- **Import de donn√©es**: [Guide Data Seeding](data-seeding-guide.md)
- **Mod√®les de configuration**: Voir le fichier `backend/src/main/resources/sample-model.json`

---

**Version**: 1.0.0  
**Date**: Novembre 2025

